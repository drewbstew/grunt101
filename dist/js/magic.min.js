/*
 grunt-getting-started 2016-04-14 
*/
function changeButtonText(){degree=["Celsius","Fahrenheit"],centigrade?$tempSwitch.html("Switch to "+degree[1]):$tempSwitch.html("Switch to "+degree[0])}function makeRocketGoNow(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){lat=a.coords.latitude,lon=a.coords.longitude,getWeatherAPI(),getGoogleAPI(),changeButtonText()})}function setWeatherAPIURL(){apiURL="https://api.forecast.io/forecast/1a6a08acc3ff5154f3946d4ef3a215fa/"+lat.toString()+","+lon.toString()}function setGoogleAPIURL(){googleAPIURL="https://maps.googleapis.com/maps/api/geocode/json?latlng="+lat.toString()+","+lon.toString()+"&sensor=false"}function getWeatherAPI(){setWeatherAPIURL(),$.ajax({type:"GET",dataType:"jsonp",url:apiURL,success:function(a){weatherAPI=a,setWeather()}})}function getGoogleAPI(){setGoogleAPIURL(),$.ajax({type:"GET",dataType:"json",url:googleAPIURL,success:function(a){googleAPI=a,findCityName()}})}function findCityName(){var a=googleAPI.results[0].address_components;for(i=0;i<a.length;i++)if("locality"==a[i].types[0]&&"political"==a[i].types[1]){$location.html(a[i].long_name);break}}function fOrC(){tempDisplay=centigrade?"C":"F"}function setWeather(){fOrC(),"object"==typeof weatherAPI&&(setCurrentWeather(formatConditions(weatherAPI.currently.icon)),setForecastWeather())}function formatTemp(a){return centigrade?Math.round((a-32)*(5/9)):Math.round(a)}function setForecastWeather(){$forecastSummary.html(weatherAPI.daily.summary),setForecastDailyWeather()}function setForecastDailyWeather(){var a=weatherAPI.daily.data,b=1;$forecastDays.each(function(){var c=formatConditions(a[b].icon);$(this).find("h4").html(findDay(a[b].time)),$(this).find("p").html(a[b].summary),$(this).find(".row .info-col ul .forecast-temp-max").html("High: "+formatTemp(a[b].temperatureMax).toString()+"&deg;"+tempDisplay),$(this).find(".row .info-col ul .forecast-temp-min").html("Low: "+formatTemp(a[b].temperatureMin).toString()+"&deg;"+tempDisplay),changeIcon($(this).find(".row .icon-col .weather-icon"),c),b++})}function findDay(a){var b=new Date(1e3*a),c=(new Date).getTime();return 864e5>=b-c?"Tomorrow":getWeekday(b)+", "+getMonthName(b)+" "+b.getDate()}function getWeekday(a){var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return b[a.getDay()]}function getMonthName(a){var b=["January","February","March","April","May","June","July","August","September","October","November","December"];return b[a.getMonth()]}function setCurrentWeather(a){$currentTemp.html(formatTemp(weatherAPI.currently.temperature)+"&deg;"+tempDisplay),$currentCond.html(weatherAPI.currently.summary),changeBackgroundImage(a),changeIcon($currentWeatherIcon,a)}function changeBackgroundImage(a){switch(a){case"cloudy":$body.css("background-image","url(images/cloudy.jpg");break;case"snow":$body.css("background-image","url(images/snow.jpg)");break;case"rain":$body.css("background-image","url(images/rain.jpg)");break;case"clear-night":$body.css("background-image","url(images/clear_night.jpg)");break;default:$body.css("background-image","url(images/clear_day.jpg)")}}function changeIcon(a,b){switch(b){case"cloudy":a.addClass("wi-cloudy").removeClass("wi-day-sunny");break;case"snow":a.addClass("wi-snow").removeClass("wi-day-sunny");break;case"rain":a.addClass("wi-rain").removeClass("wi-day-sunny");break;case"clear-night":a.addClass("wi-night-clear").removeClass("wi-day-sunny")}}function formatConditions(a){switch(a){case"cloudy":case"partly-cloudy-day":case"partly-cloudy-night":return"cloudy";case"rain":return"rain";case"snow":case"sleet":return"snow";case"clear-night":return"clear-night";default:return"clear-day"}}var lat,lon,weatherAPI,apiURL,googleAPIURL,googleAPI,centigrade=!1,tempDisplay,$currentWeatherIcon=$("#current-weather-icon"),$location=$("#loc-name"),$currentTemp=$("#current-temp"),$currentCond=$("#current-cond"),$body=$("body"),$tempSwitch=$("#temp-switch"),$forecastSummary=$("#forecast-summary"),$forecastDays=$(".forecast-day-container");$tempSwitch.click(function(){centigrade=!centigrade,setWeather(),changeButtonText()}),$(function(){makeRocketGoNow()});